# -*-cperl-*-
## this file generated by ACE_UTILS from the perl template: /p/hdk/rtl/proj_tools/rtltools_flows/xhdk74/17.04.03/templates/cfg/dc/finalized.cfg.template

package finalized;

use lib "$ENV{RTL_PROJ_BIN}/perllib";
use ToolConfig();

use vars qw($repo_root);
BEGIN {
    if(!defined($ENV{DUT})) {
        $ENV{DUT} = ToolConfig::get_facet('dut');
    }
    if(!defined($ENV{ACE_ENG})) {
        $ENV{ACE_ENG} = $ENV{MODEL_ROOT};
    }
    if(!defined($ENV{ACE_PWA_DIR})) {
        $ENV{ACE_PWA_DIR} = "target/$ENV{DUT}";
    }
    $repo_root = ToolConfig::ToolConfig_get_tool_env_var('ace_setup','REPO_ROOT');
}

use lib "$repo_root/tools/febe/inputs/finalized";
use lib "$ENV{ACE_ENG}/tools/febe/inputs/finalized";
use lib "$repo_root/cfg/ace/lib";
use lib "$ENV{ACE_ENG}/ace/lib";

$ctech_path = ToolConfig::ToolConfig_get_tool_path('ctech');
$ctech_process = ToolConfig::ToolConfig_get_tool_var('ctech','ctech_process');
$ctech_stdlib_type = ToolConfig::ToolConfig_get_tool_var('ctech','ctech_stdlib_type');
$ctech_lib_variant = ToolConfig::ToolConfig_get_tool_var('ctech','ctech_lib_variant');
$ctech_default_lib_variant = ToolConfig::ToolConfig_get_tool_var('ctech','ctech_default_lib_variant');
$ctech_path .= "/source/$ctech_process/";
@ctechfiles = glob "$ctech_path/$ctech_stdlib_type/$ctech_default_lib_variant/ctech_lib*";

if(ToolConfig::ToolConfig_tool_exists('ctech_exp')) {
    my $ctech_exp_path = ToolConfig::ToolConfig_get_tool_path('ctech_exp');
    $ctech_exp_path .= "/source/$ctech_process/";
    $ctech_path = "($ctech_path,$ctech_exp_path)";
    @ctechexpfiles = glob "$ctech_exp_path/$ctech_stdlib_type/$ctech_default_lib_variant/ctech_exp_lib*";
}

## add <ip>_final_cfg packages
use mss_top_top_final_cfg;

sub get_data() {

  return {
     mss_top_top 	=>   $mss_top_top_final_cfg::dc_cfg,


     COMMON_CFG => {
        -nb_resource => {
            'tophiergen'     => 'FEBE_40G',
            'gen_collateral' => 'FEBE_8G',
            'static_check'   => 'FEBE_8G',
            'dc'             => 'FEBE_8G',
            'fv'             => 'FEBE_16G',
        },
        -stdlib_type    => "$ctech_stdlib_type",
        -lib_variant    => "$ctech_default_lib_variant", #"$ctech_lib_variant",
        -defines        => [],
        -rm_ctech_files => [],
        -add_ctech_files => [],
     },

     CTECH => {
       -path => "$ctech_path",
       -extensions => [ ToolConfig::ToolConfig_get_tool_var('ctech','extensions') ],
     },
     PATH_REGULATOR => {
       -part_env => {
       },
       -full_env => [
        'VISAROOT',
        'ACE_PWA_DIR',
        'ACE_ENG',
        'IP_RELEASES',
      ],
     },

  }
}

1;
